<!DOCTYPE html>
<html>
<head>
  <title>OBS Lights Toggle Prototype</title>
</head>
<body>
  <!-- Disclaimer Text -->
  <p><strong>
    Note that this is a very basic prototype for demonstration purposes only.
    In production, expect lower latency, higher quality, and for the LED sign to be visible in multiple
    scenes so operators may verify liveness at certain points throughout the fight.
  </strong></p>

  <h1>Live Verification Prototype</h1>

  <!-- EMBED TWITCH STREAM -->
  <iframe
    src="https://player.twitch.tv/?channel=prototype12629&parent=luckydog6969.github.io"
    height="315" width="560" allowfullscreen>
  </iframe>

  <!-- Instruction Text + "PRESS ME" Button(s) -->
  <h2>TO VERIFY LIVENESS, TURN ON THE SIGN <em>[Due to latency, wait a few seconds before the light turns on]</em></h2>
  
  <!-- Lights ON Button -->
  <button onclick="toggleLights('on')">Lights ON</button>
  
  <!-- Lights OFF Button -->
  <button onclick="toggleLights('off')">Lights OFF</button>

  <script>
  function toggleLights(mode) {
    console.log(`üîµ Sending request to turn lights ${mode.toUpperCase()}...`); // Debug log
    fetch(`https://73da-152-32-107-97.ngrok-free.app/toggle?mode=${mode}`)
      .then(res => res.text())
      .then(txt => {
        console.log(`‚úÖ Response: ${txt}`); // Debug log
      })
      .catch(err => {
        console.error("‚ùå Fetch Error:", err);
      });
  }
</script>

</body>
</html>
